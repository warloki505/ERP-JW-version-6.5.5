<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ERP Financeiro - Perfil Financeiro v6.5</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="topbar">
    <div class="container topbar__row">
      <h1>ğŸ’° ERP Financeiro JW v6.5</h1>
      <div class="topbar__actions">
        <button onclick="location.href='dashboard.html'" class="btn btn--ghost">â† Voltar ao Dashboard</button>
        <button id="logoutBtn" class="btn btn--ghost">ğŸšª Sair</button>
      </div>
    </div>
  </header>

  <main class="container" style="max-width: 900px; margin-top: 24px;">

    <!-- INFORMAÃ‡Ã•ES DO USUÃRIO -->
    <section class="card">
      <h2>ğŸ‘¤ INFORMAÃ‡Ã•ES DO USUÃRIO</h2>
      <div class="form profile-info-grid">
        <div class="form-group profile-info--full">
          <label>Nome</label>
          <input type="text" id="displayNome" readonly class="input--readonly profile-input" />
        </div>

        <div class="form-group">
          <label>E-mail</label>
          <input type="email" id="displayEmail" readonly class="input--readonly profile-input" />
        </div>

        <div class="form-group">
          <label>Conta criada em</label>
          <input type="text" id="displayDataCriacao" readonly class="input--readonly profile-input" />
        </div>
      </div>
    </section>

    <!-- PERFIL FINANCEIRO -->
    <section class="card">
      <h2>ğŸ“Š PERFIL FINANCEIRO</h2>
      <p class="text-muted" style="margin-bottom: 20px;">
        Defina seu perfil e como deseja distribuir sua renda mensalmente (planejamento).
      </p>

      <form id="formPerfil" class="form">
        <div class="form-group">
          <label for="tipoPerfil">Tipo de Perfil</label>
          <select id="tipoPerfil" required>
            <option value="">Selecione seu perfil</option>
          </select>
          <small class="text-muted">Cada perfil tem percentuais sugeridos diferentes</small>
        </div>

        <div class="form-group">
          <label for="percDespesasEssenciais">Despesas Essenciais (%)</label>
          <input type="number" id="percDespesasEssenciais" min="0" max="100" step="1" placeholder="Ex: 50" required />
          <small class="text-muted">Moradia, alimentaÃ§Ã£o, transporte, saÃºde...</small>
        </div>

        <div class="form-group">
          <label for="percDespesasLivres">Despesas Livres (%)</label>
          <input type="number" id="percDespesasLivres" min="0" max="100" step="1" placeholder="Ex: 30" required />
          <small class="text-muted">Lazer, entretenimento, extras...</small>
        </div>

        <div class="form-group">
          <label for="percPoupanca">PoupanÃ§a / Investimentos (%)</label>
          <input type="number" id="percPoupanca" min="0" max="100" step="1" placeholder="Ex: 20" required />
          <small class="text-muted">Reserva de emergÃªncia, investimentos...</small>
        </div>

        <div class="form-group">
          <label for="percQuitacaoDividas">% para quitar dÃ­vidas</label>
          <input type="number" id="percQuitacaoDividas" min="0" max="100" step="1" placeholder="Ex: 10" required />
          <small class="text-muted">Planejamento educacional. (NÃ£o automatiza nada no dashboard)</small>
        </div>

        <div id="totalPerc" class="status status--info profile-kpi">
          Total: <strong>0%</strong>
        </div>

        <button type="submit" class="btn btn--primary" style="width: 100%; margin-top: 8px;">
          ğŸ’¾ Salvar Perfil Financeiro
        </button>
      </form>
    </section>

    <!-- PERFIS SUGERIDOS -->
    <section class="card">
      <h2>ğŸ’¡ PERFIS SUGERIDOS</h2>
      <div style="display: grid; gap: 16px;">

        <div class="suggestion-box">
          <h3 style="margin-bottom: 8px;">ğŸ¯ ResponsÃ¡vel</h3>
          <p class="text-muted" style="font-size: 13px; margin-bottom: 12px;">
            EquilÃ­brio entre seguranÃ§a e qualidade de vida
          </p>
          <div class="suggestion-badges">
            <span class="badge badge-despesa">50% Essenciais</span>
            <span class="badge badge-despesa">25% Livres</span>
            <span class="badge badge-poupanca">15% PoupanÃ§a</span>
            <span class="badge badge-divida">10% Quitar DÃ­vidas</span>
          </div>
          <button onclick="aplicarPerfil('responsavel')" class="btn btn--ghost btn-mini" style="margin-top: 12px;">
            Aplicar este perfil
          </button>
        </div>

        <div class="suggestion-box">
          <h3 style="margin-bottom: 8px;">ğŸ›¡ï¸ Conservador</h3>
          <p class="text-muted" style="font-size: 13px; margin-bottom: 12px;">
            MÃ¡xima seguranÃ§a financeira e reservas
          </p>
          <div class="suggestion-badges">
            <span class="badge badge-despesa">55% Essenciais</span>
            <span class="badge badge-despesa">15% Livres</span>
            <span class="badge badge-poupanca">20% PoupanÃ§a</span>
            <span class="badge badge-divida">10% Quitar DÃ­vidas</span>
          </div>
          <button onclick="aplicarPerfil('conservador')" class="btn btn--ghost btn-mini" style="margin-top: 12px;">
            Aplicar este perfil
          </button>
        </div>

        <div class="suggestion-box">
          <h3 style="margin-bottom: 8px;">ğŸŒŸ Livre</h3>
          <p class="text-muted" style="font-size: 13px; margin-bottom: 12px;">
            Mais liberdade, sem perder um mÃ­nimo de disciplina
          </p>
          <div class="suggestion-badges">
            <span class="badge badge-despesa">45% Essenciais</span>
            <span class="badge badge-despesa">35% Livres</span>
            <span class="badge badge-poupanca">10% PoupanÃ§a</span>
            <span class="badge badge-divida">10% Quitar DÃ­vidas</span>
          </div>
          <button onclick="aplicarPerfil('livre')" class="btn btn--ghost btn-mini" style="margin-top: 12px;">
            Aplicar este perfil
          </button>
        </div>

      </div>
    </section>

    <!-- GERENCIADORES (v6.5) -->
    <section class="card">
      <h2>âš™ï¸ GERENCIADORES (v6.5)</h2>
      <p class="text-muted" style="margin-top: 0;">
        Personalize as listas do sistema. VocÃª pode <strong>ativar/desativar</strong> e <strong>renomear</strong> itens existentes.
        <br /><small>Obs.: nÃ£o cria novos itens e nÃ£o apaga histÃ³rico.</small>
      </p>

      <div class="manager-grid">
        <!-- Categorias -->
        <div class="manager-card">
          <div class="manager-header">
            <h3 style="margin:0;">ğŸ“Œ Categorias</h3>
            <select id="catGrupo" class="manager-select">
              <option value="receita">Receita</option>
              <option value="poupanca">PoupanÃ§a</option>
              <option value="despesa_essencial">Despesa Essencial</option>
              <option value="despesa_livre">Despesa Livre</option>
              <option value="divida">DÃ­vidas</option>
            </select>
          </div>

          <div id="catLista" class="manager-list"></div>

          <div class="manager-actions">
            <button id="btnSalvarCats" class="btn btn--primary" type="button">Salvar Categorias</button>
            <button id="btnResetCats" class="btn btn--ghost" type="button">Restaurar padrÃ£o</button>
          </div>
        </div>

        <!-- Bancos -->
        <div class="manager-card">
          <div class="manager-header">
            <h3 style="margin:0;">ğŸ¦ Bancos</h3>
            <select id="bankTipo" class="manager-select">
              <option value="receita">Receita</option>
              <option value="poupanca">PoupanÃ§a</option>
              <option value="despesa">Despesa</option>
              <option value="divida">DÃ­vidas</option>
            </select>
          </div>

          <div id="bankLista" class="manager-list"></div>

          <div class="manager-actions">
            <button id="btnSalvarBanks" class="btn btn--primary" type="button">Salvar Bancos</button>
            <button id="btnResetBanks" class="btn btn--ghost" type="button">Restaurar padrÃ£o</button>
          </div>
        </div>
      </div>

      <div class="status status--info" style="margin-top: 14px;">
        Dica: as mudanÃ§as aparecem nos selects do Dashboard automaticamente ao recarregar a pÃ¡gina.
      </div>
    </section>

  
    <!-- BACKUP / EXPORTAÃ‡ÃƒO -->
    <section class="card" style="margin-top: 20px;">
      <h2>ğŸ§° Backup e ExportaÃ§Ã£o</h2>
      <p class="text-muted">Recomendado: exporte um backup (JSON) antes de limpar cache do navegador ou trocar de PC.</p>

      <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top: 10px;">
        <button id="btnExportBackup" class="btn btn--primary">â¬‡ï¸ Exportar Backup (JSON)</button>
        <button id="btnImportBackup" class="btn btn--ghost">â¬†ï¸ Importar Backup (JSON)</button>
        <button id="btnExportCSV" class="btn btn--ghost">ğŸ“„ Exportar CSV do mÃªs</button>

        <div style="margin-left:auto; display:flex; gap:8px; align-items:center;">
          <span class="text-muted">Tema</span>
          <select id="themeMode" class="input" style="min-width: 160px;">
            <option value="auto">Auto</option>
            <option value="light">Claro</option>
            <option value="dark">Escuro</option>
          </select>
        </div>
      </div>

      <div id="backupInfo" class="status status--info" style="margin-top: 12px;">MÃªs em foco: â€”</div>
    </section>

  </main>

  <!-- scripts base (v6.5) -->
  <script src="js/constantes.js"></script>
  <script src="js/config.js"></script>

  <!-- SCRIPTS -->
  <script src="js/constantes.js"></script>
  <script src="js/config.js"></script>
  <script src="js/core.js"></script>
  <script src="js/script.js"></script>
  <script src="js/perfil.js"></script>
</body>
</html>
